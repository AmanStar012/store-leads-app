<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store Leads Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .loading { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .modal { backdrop-filter: blur(4px); }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app">
        <div class="flex min-h-screen">
            <!-- Sidebar -->
            <div class="w-64 bg-white shadow-sm p-4">
                <div class="space-y-6">
                    <div>
                        <button class="text-blue-600 text-sm font-medium">Advanced</button>
                        <div class="flex items-center space-x-2 mt-2">
                            <span class="text-yellow-400">‚≠ê</span>
                            <span class="text-gray-400">üìä</span>
                            <span class="text-gray-400">‚¨áÔ∏è</span>
                            <button class="text-blue-600 text-sm">Clear</button>
                            <button onclick="toggleColumns()" class="text-blue-600 text-sm hover:text-blue-800">Columns</button>
                            <span class="text-gray-400">üîß</span>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Search</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">üîç</span>
                            <input type="text" id="searchInput" onkeyup="filterData()" 
                                   class="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" 
                                   placeholder="Search domains...">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                        <select id="categorySelect" onchange="changeCategory()" 
                                class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="Fashion & Apparel">Fashion & Apparel</option>
                            <option value="Beauty & Fitness">Beauty & Fitness</option>
                            <option value="Home & Garden">Home & Garden</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Country</label>
                        <select id="countrySelect" onchange="filterByCountry()" 
                                class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="All">All Countries</option>
                            <option value="India" selected>India</option>
                            <option value="USA">USA</option>
                            <option value="UK">UK</option>
                            <option value="Canada">Canada</option>
                            <option value="Australia">Australia</option>
                        </select>
                        <div class="mt-2 text-xs text-gray-500">
                            <div>India: 30 records</div>
                            <div>USA: 0 records</div>
                            <div>UK: 0 records</div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Platform</label>
                        <select id="platformSelect" disabled
                                class="w-full p-2 border border-gray-300 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed">
                            <option value="All">All Platforms</option>
                            <option value="Shopify" selected>Shopify</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                        <select id="statusSelect" disabled
                                class="w-full p-2 border border-gray-300 rounded-md bg-gray-100 text-gray-500 cursor-not-allowed">
                            <option value="All" selected>All Status</option>
                            <option value="Active">Active</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Company Size</label>
                        <select id="companySizeSelect" onchange="filterByCompanySize()" 
                                class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="All">All Sizes</option>
                            <option value="1-10">1-10 employees</option>
                            <option value="11-50">11-50 employees</option>
                            <option value="51-200">51-200 employees</option>
                            <option value="201-1000">201-1000 employees</option>
                            <option value="1000+">1000+ employees</option>
                        </select>
                    </div>

                    <div id="columnFilter" class="hidden border-t pt-4">
                        <h3 class="text-sm font-medium text-gray-700 mb-3">Visible Columns</h3>
                        <div class="space-y-2 max-h-64 overflow-y-auto">
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-domain" checked onchange="toggleColumn('domain')" class="mr-2"> Domain
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-merchant" checked onchange="toggleColumn('merchant')" class="mr-2"> Merchant Name
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-city" checked onchange="toggleColumn('city')" class="mr-2"> City
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-state" checked onchange="toggleColumn('state')" class="mr-2"> State
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-price" checked onchange="toggleColumn('price')" class="mr-2"> Avg Price
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-platform" checked onchange="toggleColumn('platform')" class="mr-2"> Platform
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-rank" checked onchange="toggleColumn('rank')" class="mr-2"> Rank
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-status" checked onchange="toggleColumn('status')" class="mr-2"> Status
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-sales" checked onchange="toggleColumn('sales')" class="mr-2"> Est. Sales
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-emails" onchange="toggleColumn('emails')" class="mr-2"> Emails
                            </label>
                            <label class="flex items-center text-sm">
                                <input type="checkbox" id="col-phones" onchange="toggleColumn('phones')" class="mr-2"> Phones
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="flex-1 flex flex-col">
                <!-- Header -->
                <div class="bg-blue-600 text-white p-4">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2">
                            <div class="w-6 h-6 bg-white rounded"></div>
                            <h1 class="text-xl font-semibold">Store Leads</h1>
                        </div>
                        <button onclick="openExportModal()" class="bg-blue-700 hover:bg-blue-800 px-4 py-2 rounded transition-colors">
                            ‚¨áÔ∏è EXPORT
                        </button>
                    </div>
                </div>

                <!-- Content -->
                <div class="flex-1 p-6">
                    <div class="mb-4">
                        <div class="flex items-center justify-between">
                            <div>
                                <p id="statusText" class="text-sm text-green-600">
                                    ‚úÖ Fashion & Apparel records loaded from India
                                </p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button onclick="prevPage()" id="prevBtn" class="px-3 py-1 border rounded hover:bg-gray-50 disabled:opacity-50">Previous</button>
                                <span id="pageInfo">Page 1 of 1</span>
                                <button onclick="nextPage()" id="nextBtn" class="px-3 py-1 border rounded hover:bg-gray-50 disabled:opacity-50">Next</button>
                            </div>
                        </div>
                    </div>

                    <!-- Data Table -->
                    <div id="dataTable" class="bg-white rounded-lg shadow overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-4 py-3 text-left">
                                            <input type="checkbox" onchange="selectAll(this)">
                                        </th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-domain">Domain</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-merchant">Merchant Name</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-city">City</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-state">State</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-price">Avg Price</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-platform">Platform</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-rank">Rank</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-status">Status</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-sales">Est. Sales</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-emails hidden">Emails</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase col-phones hidden">Phones</th>
                                    </tr>
                                </thead>
                                <tbody id="tableBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Data will be inserted here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div id="exportModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal">
        <div class="bg-white rounded-lg p-6 w-[600px] max-h-[80vh] overflow-y-auto">
            <h3 class="text-lg font-semibold mb-4">Export Data</h3>
            
            <div class="space-y-3">
                <button onclick="exportToDrive()" class="w-full bg-green-600 text-white py-3 px-4 rounded hover:bg-green-700 transition-colors text-left">
                    <div class="font-medium">üîó Download Full Dataset - Click Here</div>
                    <div class="text-sm opacity-90" id="driveDescription">
                        Complete Fashion & Apparel dataset - Click here to download
                    </div>
                </button>
                
                <div class="border rounded-lg p-4 bg-gray-50">
                    <div class="flex items-center justify-between mb-3">
                        <div>
                            <div class="font-medium">üìä Export Current View</div>
                            <div class="text-sm text-gray-600">Download visible data as CSV with custom columns</div>
                        </div>
                    </div>
                    
                    <button onclick="exportCurrentView()" id="exportBtn" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors">
                        Export CSV
                    </button>
                </div>
            </div>
            
            <div class="flex space-x-3 mt-6">
                <button onclick="closeExportModal()" class="flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-400 transition-colors">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <script>
        // Simple business data - no syntax errors
        var businessData = [
            { domain: 'www.studiosuits.com', merchant: 'StudioSuits', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ1870', platform: 'Shopify', rank: 1146, status: 'Active', sales: '$44250', emails: 'contact@studiosuits.com', phones: '+91-28520-75153' },
            { domain: 'www.giva.co', merchant: 'GIVA', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ1378', platform: 'Shopify', rank: 5883, status: 'Active', sales: '$28161', emails: 'contact@giva.co', phones: '+91-26064-16648' },
            { domain: 'www.westside.com', merchant: 'Westside', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ4102', platform: 'Shopify', rank: 8497, status: 'Active', sales: '$72183', emails: 'contact@westside.com', phones: '+91-12491-60886' },
            { domain: 'www.myntra.com', merchant: 'Myntra', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ2800', platform: 'Shopify', rank: 1200, status: 'Active', sales: '$85000', emails: 'support@myntra.com', phones: '+91-80-1234-5678' },
            { domain: 'www.ajio.com', merchant: 'AJIO', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ3500', platform: 'Shopify', rank: 1500, status: 'Active', sales: '$90000', emails: 'care@ajio.com', phones: '+91-22-2345-6789' },
            { domain: 'www.fabindia.com', merchant: 'Fabindia', city: 'New Delhi', state: 'Delhi', price: '‚Çπ2200', platform: 'Shopify', rank: 7890, status: 'Active', sales: '$67000', emails: 'customercare@fabindia.com', phones: '+91-11-2789-0123' },
            { domain: 'www.nykaa.com', merchant: 'Nykaa', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ850', platform: 'Shopify', rank: 1234, status: 'Active', sales: '$125000', emails: 'support@nykaa.com', phones: '+91-22-3456-7890' },
            { domain: 'www.mamaearth.in', merchant: 'Mamaearth', city: 'Gurugram', state: 'Haryana', price: '‚Çπ520', platform: 'Shopify', rank: 2345, status: 'Active', sales: '$89000', emails: 'care@mamaearth.in', phones: '+91-124-456-7890' },
            { domain: 'www.pepperfry.com', merchant: 'Pepperfry', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ15000', platform: 'Shopify', rank: 1456, status: 'Active', sales: '$250000', emails: 'support@pepperfry.com', phones: '+91-22-1456-7890' },
            { domain: 'www.urbanladder.com', merchant: 'Urban Ladder', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ12000', platform: 'Shopify', rank: 2567, status: 'Active', sales: '$180000', emails: 'care@urbanladder.com', phones: '+91-80-2567-8901' },
            { domain: 'www.ikea.com', merchant: 'IKEA India', city: 'Hyderabad', state: 'Telangana', price: '‚Çπ8000', platform: 'Shopify', rank: 3678, status: 'Active', sales: '$320000', emails: 'customerservice@ikea.com', phones: '+91-40-3678-9012' },
            { domain: 'www.zara.com', merchant: 'Zara India', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ5500', platform: 'Shopify', rank: 800, status: 'Active', sales: '$150000', emails: 'info@zara.com', phones: '+91-22-0123-4567' },
            { domain: 'www.hm.com', merchant: 'H&M India', city: 'Delhi', state: 'Delhi', price: '‚Çπ2900', platform: 'Shopify', rank: 1000, status: 'Active', sales: '$120000', emails: 'care@hm.com', phones: '+91-11-1234-5678' },
            { domain: 'www.lakme.com', merchant: 'Lakme', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ450', platform: 'Shopify', rank: 6789, status: 'Active', sales: '$95000', emails: 'customercare@lakme.com', phones: '+91-22-6789-0123' },
            { domain: 'www.godrejinterio.com', merchant: 'Godrej Interio', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ25000', platform: 'Shopify', rank: 4789, status: 'Active', sales: '$450000', emails: 'info@godrejinterio.com', phones: '+91-22-4789-0123' },
            { domain: 'www.sleepwell.in', merchant: 'Sleepwell', city: 'New Delhi', state: 'Delhi', price: '‚Çπ16000', platform: 'Shopify', rank: 7012, status: 'Active', sales: '$220000', emails: 'info@sleepwell.in', phones: '+91-11-7012-3456' },
            { domain: 'www.pantaloons.com', merchant: 'Pantaloons', city: 'Kolkata', state: 'West Bengal', price: '‚Çπ2600', platform: 'Shopify', rank: 2000, status: 'Active', sales: '$75000', emails: 'info@pantaloons.com', phones: '+91-33-3456-7890' },
            { domain: 'www.sugarcosmetics.com', merchant: 'SUGAR Cosmetics', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ650', platform: 'Shopify', rank: 4567, status: 'Active', sales: '$78000', emails: 'support@sugarcosmetics.com', phones: '+91-22-4567-8901' },
            { domain: 'www.kurlon.com', merchant: 'Kurlon', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ14000', platform: 'Shopify', rank: 8123, status: 'Active', sales: '$190000', emails: 'support@kurlon.com', phones: '+91-80-8123-4567' },
            { domain: 'www.woodenstreet.com', merchant: 'WoodenStreet', city: 'Jaipur', state: 'Rajasthan', price: '‚Çπ9000', platform: 'Shopify', rank: 9234, status: 'Active', sales: '$120000', emails: 'care@woodenstreet.com', phones: '+91-141-9234-5678' },
            { domain: 'www.biotique.com', merchant: 'Biotique', city: 'New Delhi', state: 'Delhi', price: '‚Çπ320', platform: 'Shopify', rank: 7890, status: 'Active', sales: '$56000', emails: 'info@biotique.com', phones: '+91-11-7890-1234' },
            { domain: 'www.maxfashion.com', merchant: 'Max Fashion', city: 'Pune', state: 'Maharashtra', price: '‚Çπ1800', platform: 'Shopify', rank: 2500, status: 'Active', sales: '$55000', emails: 'contact@maxfashion.com', phones: '+91-20-4567-8901' },
            { domain: 'www.himalayawellness.com', merchant: 'Himalaya Wellness', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ280', platform: 'Shopify', rank: 8901, status: 'Active', sales: '$87000', emails: 'support@himalayawellness.com', phones: '+91-80-8901-2345' },
            { domain: 'www.duroflex.com', merchant: 'Duroflex', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ18000', platform: 'Shopify', rank: 5890, status: 'Active', sales: '$280000', emails: 'support@duroflex.com', phones: '+91-80-5890-1234' },
            { domain: 'www.plumgoodness.com', merchant: 'Plum Goodness', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ720', platform: 'Shopify', rank: 5678, status: 'Active', sales: '$65000', emails: 'hello@plumgoodness.com', phones: '+91-22-5678-9012' },
            { domain: 'www.nilkamal.com', merchant: 'Nilkamal', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ5000', platform: 'Shopify', rank: 6901, status: 'Active', sales: '$150000', emails: 'customercare@nilkamal.com', phones: '+91-22-6901-2345' },
            { domain: 'www.forestessentials.com', merchant: 'Forest Essentials', city: 'New Delhi', state: 'Delhi', price: '‚Çπ1200', platform: 'Shopify', rank: 9012, status: 'Active', sales: '$125000', emails: 'care@forestessentials.com', phones: '+91-11-9012-3456' },
            { domain: 'www.hometown.in', merchant: 'Hometown', city: 'Mumbai', state: 'Maharashtra', price: '‚Çπ11000', platform: 'Shopify', rank: 1345, status: 'Active', sales: '$160000', emails: 'support@hometown.in', phones: '+91-22-1345-6789' },
            { domain: 'www.uniqlo.com', merchant: 'Uniqlo India', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ2200', platform: 'Shopify', rank: 1300, status: 'Active', sales: '$98000', emails: 'support@uniqlo.com', phones: '+91-80-2345-6789' },
            { domain: 'www.livspace.com', merchant: 'Livspace', city: 'Bengaluru', state: 'Karnataka', price: '‚Çπ22000', platform: 'Shopify', rank: 1800, status: 'Active', sales: '$290000', emails: 'hello@livspace.com', phones: '+91-80-1800-2800' }
        ];

        var currentCategory = 'Fashion & Apparel';
        var currentPage = 1;
        var itemsPerPage = 30;
        var allData = [];
        var filteredData = [];
        var selectedRows = new Set();

        function getCompanySize(employeeCount) {
            var count = parseInt(employeeCount) || 0;
            if (count <= 10) return '1-10';
            if (count <= 50) return '11-50';
            if (count <= 200) return '51-200';
            if (count <= 1000) return '201-1000';
            return '1000+';
        }

        function loadData() {
            allData = [];
            for (var i = 0; i < businessData.length; i++) {
                var row = businessData[i];
                allData.push({
                    id: i + 1,
                    domain: row.domain,
                    merchant: row.merchant,
                    city: row.city,
                    state: row.state,
                    country: 'India',
                    price: row.price,
                    platform: row.platform,
                    rank: row.rank,
                    status: row.status,
                    sales: row.sales,
                    emails: row.emails,
                    phones: row.phones,
                    employees: Math.floor(Math.random() * 1000) + 1,
                    companySize: getCompanySize(Math.floor(Math.random() * 1000) + 1)
                });
            }
            filteredData = allData.slice();
        }

        function renderTable() {
            var startIndex = (currentPage - 1) * itemsPerPage;
            var endIndex = startIndex + itemsPerPage;
            var pageData = filteredData.slice(startIndex, endIndex);

            var tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            for (var i = 0; i < pageData.length; i++) {
                var item = pageData[i];
                var row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                row.innerHTML = '<td class="px-4 py-3"><input type="checkbox" data-id="' + item.id + '"></td>' +
                    '<td class="px-4 py-3 text-sm font-medium text-gray-900 col-domain"><a href="https://' + item.domain + '" target="_blank" class="text-blue-600 hover:text-blue-800">' + item.domain + ' üîó</a></td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-merchant">' + item.merchant + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-city">' + item.city + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-state">' + item.state + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-price">' + item.price + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-platform">' + item.platform + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-rank">#' + item.rank + '</td>' +
                    '<td class="px-4 py-3 text-sm col-status"><span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">' + item.status + '</span></td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-sales">' + item.sales + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-emails hidden">' + item.emails + '</td>' +
                    '<td class="px-4 py-3 text-sm text-gray-500 col-phones hidden">' + item.phones + '</td>';
                tbody.appendChild(row);
            }

            updatePagination();
        }

        function updatePagination() {
            var totalPages = Math.ceil(filteredData.length / itemsPerPage);
            document.getElementById('pageInfo').textContent = 'Page ' + currentPage + ' of ' + totalPages;
            
            var prevBtn = document.getElementById('prevBtn');
            var nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentPage <= 1;
            nextBtn.disabled = currentPage >= totalPages;
        }

        function changeCategory() {
            var select = document.getElementById('categorySelect');
            currentCategory = select.value;
            currentPage = 1;
            
            document.getElementById('statusText').textContent = '‚úÖ ' + currentCategory + ' records loaded from India';
            document.getElementById('driveDescription').textContent = 'Complete ' + currentCategory + ' dataset - Click here to download';
            
            applyAllFilters();
            renderTable();
        }

        function nextPage() {
            var totalPages = Math.ceil(filteredData.length / itemsPerPage);
